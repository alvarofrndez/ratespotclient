const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SpotRatesComponent-Bz_s70Pv.js","assets/spot-DbiCX8Eu.js","assets/index-BxKUM9BA.js","assets/index-BjoBKk9p.css","assets/SpotRatesComponent-CGOQO0rG.css","assets/SpinnerComponent-6dtZ-Acc.js","assets/SpinnerComponent-ZaL62qN0.css"])))=>i.map(i=>d[i]);
import{_ as E,i as b,j as D,c as V,a as c,b as e,t as s,u as n,d as p,m as A,r as B,f as d,g as v,p as I,h as f}from"./index-BxKUM9BA.js";import{s as M,u as P}from"./spot-DbiCX8Eu.js";import{m as x}from"./modal-CoLmY9SE.js";import{t as L}from"./toast-BSxLi3XN.js";const N={key:0},O={class:"container-photo"},T=["src"],j={class:"container-data"},z={class:"name"},G={class:"location"},U={class:"footer"},$={__name:"SpotDetailView",setup(q){const g=v(()=>f(()=>import("./SpotRatesComponent-Bz_s70Pv.js"),__vite__mapDeps([0,1,2,3,4]))),k=v(()=>f(()=>import("./SpinnerComponent-6dtZ-Acc.js"),__vite__mapDeps([5,2,3,6]))),t=M(),_=P(),l=x(),S=A(),h=I(),m=L(),o=b(null);D(()=>{u(),l.onRateAddCallback=u,l.onRateEditCallback=u});async function R(){l.openModal("AddRate",o.value)}async function y(){l.openModal("EditRate",o.value)}function w(){for(let r of o.value.rates)if(r.user_id===_.user.id)return!1;return!0}async function u(){o.value=await t.getSpotById(S.params.id)}async function C(){await t.deleteSpot(o.value.id)?(await t.getGroupSpots(_.user.group_id),m.show("lugar eliminado","success"),h.go(-1)):m.show("error al eliminar el lugar","error")}return(r,i)=>{const a=B("icon");return o.value?(d(),V("section",N,[c(a,{class:"back-icon",name:"io-chevron-back-outline",onClick:i[0]||(i[0]=()=>r.$router.go(-1)),scale:"1.3"}),c(a,{class:"delete-icon",name:"md-bookmarkadded-round",onClick:C,scale:"1.3"}),e("div",O,[e("img",{src:o.value.photo?o.value.photo:"/images/placeholder-photo.png",loading:"lazy",alt:"foto del lugar"},null,8,T)]),e("article",null,[e("div",j,[e("header",null,[e("p",z,s(o.value.name),1),e("span",null,s(n(t).getSpotRateMedia(o.value)),1)]),e("div",G,[c(a,{name:"md-locationon-sharp",scale:"1.3"}),e("span",null,s(o.value.address),1)]),e("div",U,[e("footer",null,[e("div",null,[e("span",null,s(n(t).getUserSpotRate(o.value)),1),w()?(d(),p(a,{key:0,name:"io-add-circle",onClick:R})):(d(),p(a,{key:1,name:"md-edit-round",onClick:y}))]),e("p",null,s(n(t).convertDate(o.value.created_at)),1)]),i[1]||(i[1]=e("div",{class:"separator"},null,-1))])]),c(n(g),{spot:o.value},null,8,["spot"])])])):(d(),p(n(k),{key:1}))}}},Q=E($,[["__scopeId","data-v-e96e0907"]]);export{Q as default};
