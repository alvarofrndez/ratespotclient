const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SpotsListComponent-BMSMOuZ2.js","assets/index-Ba6tEgh7.js","assets/index-BjoBKk9p.css","assets/spot-M4KqB7B3.js","assets/toast-Ckdjfs0i.js","assets/SpotsListComponent-zBrWro1m.css","assets/SpinnerComponent-CTYGpZkq.js","assets/SpinnerComponent-ZaL62qN0.css"])))=>i.map(i=>d[i]);
import{_ as x,i as G,j as b,c as r,u as e,b as p,F as m,k as E,a as f,d,l as L,t as g,e as _,f as s,n as A,g as k,r as B,h as v}from"./index-Ba6tEgh7.js";import{u as N,g as T,s as D}from"./spot-M4KqB7B3.js";import{t as I}from"./toast-Ckdjfs0i.js";const O={key:0,class:"container-view"},P=["onClick"],z={key:2,class:"group-code"},F={__name:"SpotsView",setup(R){const y=k(()=>v(()=>import("./SpotsListComponent-BMSMOuZ2.js"),__vite__mapDeps([0,1,2,3,4,5]))),h=k(()=>v(()=>import("./SpinnerComponent-CTYGpZkq.js"),__vite__mapDeps([6,1,2,7]))),a=N(),o=T(),c=D(),n=I(),l=G(null);function w(t){o.group={id:t.id,name:t.name,code:t.code},c.spots=null,a.setActiveUser(t.user)}b(async()=>{await a.check(),l.value=await o.getGroupsOfLocalStorage()});async function S(){await a.leaveGroup()?n.show("grupo abandonado","success"):n.show("error al abandonar el grupo","error")}async function C(){await o.deleteGroup(o.group.id)?(a.logout(),n.show("grupo eliminado","success")):n.show("error al eliminar el grupo","error")}async function V(){await navigator.clipboard.writeText(o.group.code),n.show("codigo copiado","success")}return(t,j)=>{const u=B("icon");return s(),r(m,null,[e(a).user.id&&e(o).group.id&&l.value?(s(),r("section",O,[p("header",null,[p("ul",null,[(s(!0),r(m,null,E(l.value,i=>(s(),r("li",{key:i.id,onClick:()=>w(i)},[p("span",{class:A(i.id==e(o).group.id?"active":"")},g(i.name),3)],8,P))),128))])]),f(e(y))])):(s(),d(e(h),{key:1})),e(c).spots?(s(),r("span",z,[L(g(e(o).group.code)+" ",1),f(u,{class:"copy",name:"io-copy",onClick:V})])):_("",!0),e(c).spots?(s(),d(u,{key:3,class:"action-leave",name:"io-exit-outline",flip:"horizontal",onClick:S})):_("",!0),e(c).spots?(s(),d(u,{key:4,class:"action-delete",name:"md-delete",onClick:C,fill:"red"})):_("",!0)],64)}}},H=x(F,[["__scopeId","data-v-b6afaf7e"]]);export{H as default};
