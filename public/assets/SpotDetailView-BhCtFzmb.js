const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SpotRatesComponent-DsSEDBqY.js","assets/spot-4GoCOM8x.js","assets/index-C1sxwVN5.js","assets/index-BjoBKk9p.css","assets/user-WJktJhRJ.js","assets/SpotRatesComponent-CGOQO0rG.css","assets/SpinnerComponent-UL7zW2k6.js","assets/SpinnerComponent-ZaL62qN0.css"])))=>i.map(i=>d[i]);
import{_ as E,i as b,j as D,c as V,a as i,b as e,t as s,u as n,d as p,l as w,r as A,f as d,g as _,m as B,h as m}from"./index-C1sxwVN5.js";import{s as I}from"./spot-4GoCOM8x.js";import{u as M}from"./user-WJktJhRJ.js";import{m as x}from"./modal-Bt6is9Iy.js";const P={key:0},L={class:"container-photo"},N=["src"],O={class:"container-data"},T={class:"name"},j={class:"location"},U={class:"footer"},$={__name:"SpotDetailView",setup(q){const v=_(()=>m(()=>import("./SpotRatesComponent-DsSEDBqY.js"),__vite__mapDeps([0,1,2,3,4,5]))),f=_(()=>m(()=>import("./SpinnerComponent-UL7zW2k6.js"),__vite__mapDeps([6,2,3,7]))),t=I(),k=M(),l=x(),S=w(),h=B(),o=b(null);D(()=>{u(),l.onRateAddCallback=u,l.onRateEditCallback=u});async function R(){l.openModal("AddRate",o.value)}async function y(){l.openModal("EditRate",o.value)}function g(){for(let r of o.value.rates)if(r.user_id===k.user.id)return!1;return!0}async function u(){o.value=await t.getSpotById(S.params.id)}async function C(){await t.deleteSpot(o.value.id)&&h.go(-1)}return(r,c)=>{const a=A("icon");return o.value?(d(),V("section",P,[i(a,{class:"back-icon",name:"io-chevron-back-outline",onClick:c[0]||(c[0]=()=>r.$router.go(-1)),scale:"1.3"}),i(a,{class:"delete-icon",name:"md-bookmarkadded-round",onClick:C,scale:"1.3"}),e("div",L,[e("img",{src:o.value.photo?o.value.photo:"https://via.placeholder.com/150?text=Sin%20foto",alt:"foto del lugar"},null,8,N)]),e("article",null,[e("div",O,[e("header",null,[e("p",T,s(o.value.name),1),e("span",null,s(n(t).getSpotRateMedia(o.value)),1)]),e("div",j,[i(a,{name:"md-locationon-sharp",scale:"1.3"}),e("span",null,s(o.value.address),1)]),e("div",U,[e("footer",null,[e("div",null,[e("span",null,s(n(t).getUserSpotRate(o.value)),1),g()?(d(),p(a,{key:0,name:"io-add-circle",onClick:R})):(d(),p(a,{key:1,name:"md-edit-round",onClick:y}))]),e("p",null,s(n(t).convertDate(o.value.created_at)),1)]),c[1]||(c[1]=e("div",{class:"separator"},null,-1))])]),i(n(v),{spot:o.value},null,8,["spot"])])])):(d(),p(n(f),{key:1}))}}},J=E($,[["__scopeId","data-v-549a899e"]]);export{J as default};
